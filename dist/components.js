!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("d3"),require("leaflet"),require("react-leaflet"),require("koto"),require("cartodb-client"),require("intro.js"),require("lodash")):"function"==typeof define&&define.amd?define(["react","d3","leaflet","react-leaflet","koto","cartodb-client","intro.js","lodash"],e):"object"==typeof exports?exports["@panorama/toolkit"]=e(require("react"),require("d3"),require("leaflet"),require("react-leaflet"),require("koto"),require("cartodb-client"),require("intro.js"),require("lodash")):t["@panorama/toolkit"]=e(t.React,t.d3,t.leaflet,t["react-leaflet"],t.koto,t["cartodb-client"],t["intro.js"],t.lodash)}(this,function(t,e,n,o,i,a,s,u){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,o){r.apply(this,[t,e,o].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){"use strict";var r=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),i=n(42),a=r(i),s=n(63),u=r(s),l=n(43),c=r(l),f=n(68),p=r(f),h=n(64),d=r(h),y=n(65),v=r(y),m=n(66),g=r(m),x=n(67),b=r(x),_=n(71),P=r(_),T=n(72),k=r(T),O=n(73),w=r(O),S=n(74),j=r(S),C=n(75),E=r(C),M=n(70),L=r(M);e["default"]={PanoramaDispatcher:o.PanoramaDispatcher,PanoramaEventTypes:o.PanoramaEventTypes,AreaChart:a["default"],CartoDBLoader:u["default"],DiscreteBarChart:c["default"],Donut:p["default"],HorizontalDiscreteBarChart:d["default"],IntroManager:v["default"],ItemSelector:g["default"],LeafletChoropleth:b["default"],Legend:P["default"],MapChoropleth:k["default"],OffsetAreaChart:w["default"],Punchcard:j["default"],TimeBasedMarkers:E["default"],Tooltip:L["default"]},t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},function(t,e,n){"use strict";var r=n(79)["default"];e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.__esModule=!0},function(t,e,n){"use strict";var r=n(80)["default"];e["default"]=function(t,e,n){for(var o=!0;o;){var i=t,a=e,s=n;o=!1,null===i&&(i=Function.prototype);var u=r(i,a);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(i);if(null===c)return;t=c,e=a,n=s,o=!0,u=c=void 0}},e.__esModule=!0},function(t,e,n){"use strict";var r=n(78)["default"],o=n(81)["default"];e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o?o(t,e):t.__proto__=e)},e.__esModule=!0},function(e,n){e.exports=t},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){var r=n(109)("wks"),o=n(116),i=n(12).Symbol;t.exports=function(t){return r[t]||(r[t]=i&&i[t]||(i||o)("Symbol."+t))}},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,n){t.exports=e},function(t,e,n){t.exports={"default":n(87),__esModule:!0}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(20);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports={}},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(30);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(12),o=n(9),i=n(16),a="prototype",s=function(t,e,n){var u,l,c,f=t&s.F,p=t&s.G,h=t&s.S,d=t&s.P,y=t&s.B,v=t&s.W,m=p?o:o[e]||(o[e]={}),g=p?r:h?r[e]:(r[e]||{})[a];p&&(n=e);for(u in n)l=!f&&g&&u in g,l&&u in m||(c=l?g[u]:n[u],m[u]=p&&"function"!=typeof g[u]?n[u]:y&&l?i(c,r):v&&g[u]==c?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(c):d&&"function"==typeof c?i(Function.call,c):c,d&&((m[a]||(m[a]={}))[u]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=s(u),c=n(10),f=s(c),p="panorama chart ",h=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,null,[{key:"propTypes",value:{data:u.PropTypes.oneOfType([u.PropTypes.array,u.PropTypes.object]),width:u.PropTypes.number,height:u.PropTypes.number,margin:u.PropTypes.shape({top:u.PropTypes.number,right:u.PropTypes.number,bottom:u.PropTypes.number,left:u.PropTypes.number}),style:u.PropTypes.object,xScale:u.PropTypes.func,yScale:u.PropTypes.func,xAccessor:u.PropTypes.func,yAccessor:u.PropTypes.func,axisProps:u.PropTypes.shape({scale:u.PropTypes.func,ticks:u.PropTypes.number,orient:u.PropTypes.string,offset:u.PropTypes.array})},enumerable:!0},{key:"defaultProps",value:{data:[],width:600,height:400,margin:{top:20,right:30,bottom:20,left:30},style:{},xScale:f["default"].scale.linear(),yScale:f["default"].scale.linear(),xAccessor:function(t){return t.key},yAccessor:function(t){return t.value},axisProps:{scale:f["default"].scale.linear(),ticks:5,xOrient:"bottom",yOrient:"left",offset:[0,0]}},enumerable:!0}]),i(e,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.destroy(this.refs.chart),this.chart=null}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){this.chart||(this.chart=new this.chartConstructor(f["default"].select(this.refs.chart),this.props)),this.chart.updateConfigs&&this.chart.updateConfigs(this.props),this.chart.draw(this.props.data)}},{key:"getClassSuffix",value:function(){return""}},{key:"renderChildren",value:function(){return""}},{key:"render",value:function(){return l["default"].createElement("div",{className:p+this.getClassSuffix(),style:this.props.style},l["default"].createElement("svg",{ref:"chart",className:"wrapper"}),this.renderChildren())}}]),e}(l["default"].Component);e["default"]=h,t.exports=e["default"]},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){function r(t){return null!=t&&i(o(t))}var o=n(145),i=n(22);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=9007199254740991;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){var r=n(58),o=n(22),i=n(23),a="[object Array]",s=Object.prototype,u=s.toString,l=r(Array,"isArray"),c=l||function(t){return i(t)&&o(t.length)&&u.call(t)==a};t.exports=c},function(t,e){t.exports=n},function(t,e){t.exports=o},function(t,e,n){"use strict";var r=n(11)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(125),i={Legend:{selected:"Legend:selected"},ItemSelector:{selected:"ItemSelector:selected"},ChartSlider:{selected:"ChartSlider:selected"}};e.PanoramaEventTypes=i;var a={Legend:{selected:function(t,e){a.emit(i.Legend.selected,t,e)}},ItemSelector:{selected:function(t,e){a.emit(i.ItemSelector.selected,t,e)}},ChartSlider:{selected:function(t){a.emit(i.ChartSlider.selected,t)}}};e.PanoramaDispatcher=a,r(a,o.EventEmitter.prototype)},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(11)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(10),c=u(l),f=n(41),p=u(f),h=n(76),d=u(h),y=function(t){function e(t,n){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t);var o=void 0,i=void 0;n.axisProps&&(o=s({},n.axisProps,{orient:n.axisProps.xOrient}),i=s({},n.axisProps,{orient:n.axisProps.yOrient})),s(this.configs,{width:{value:n.width},height:{value:n.height},margin:{value:n.margin},xScale:{value:n.xScale},yScale:{value:n.yScale},xAxis:{value:n.axisProps?new d["default"](this.base,"x",o):null},yAxis:{value:n.axisProps?new d["default"](this.base,"y",i):null}})}return o(e,t),i(e,[{key:"updateConfigs",value:function(t){this.config("height",t.height).config("width",t.width).config("margin",t.margin).config("xScale",t.xScale).config("yScale",t.yScale).accessor("x",t.xAccessor).accessor("y",t.yAccessor),this.config("xAxis")&&(t.axisProps?this.config("xAxis").updateConfigs(s({},t.axisProps,{orient:t.axisProps.xOrient})):(this.config("xAxis").destroy(),this.config("xAxis",null))),this.config("yAxis")&&(t.axisProps?this.config("yAxis").updateConfigs(s({},t.axisProps,{orient:t.axisProps.yOrient})):(this.config("yAxis").destroy(),this.config("yAxis",null)))}},{key:"updateDimensions",value:function(){var t=this.config("margin");this._innerWidth=this.config("width")-t.left-t.right,this._innerHeight=this.config("height")-t.top-t.bottom,this.base.attr("width",this.config("width")),this.base.attr("height",this.config("height")),this.baseLayer.attr("transform","translate("+t.left+","+t.top+")")}},{key:"updateScales",value:function(t){var e=this;this.config("xScale").range([0,this._innerWidth]),this.config("yScale").range([this._innerHeight,0]),this.config("xScale").domain(t.map(function(t){return e.accessor("x")(t)})),this.config("yScale").domain([0,c["default"].max(t,function(t){return e.accessor("y")(t)})])}},{key:"preDraw",value:function(t){this.updateDimensions(),this.updateScales(t);var e=this.config("margin");this.config("xAxis")&&this.config("xAxis").update(this.config("xScale"),[e.left,e.top+this._innerHeight]),this.config("yAxis")&&this.config("yAxis").update(this.config("yScale"),[e.left,e.top])}},{key:"destroy",value:function(){this.base.remove(),this.base=null}}]),e}(p["default"]);e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},e.__esModule=!0},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(19),o=n(8)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[o])?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){t.exports=!n(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(7),o=n(50);t.exports=n(33)?function(t,e,n){return r.setDesc(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7).setDesc,o=n(46),i=n(8)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(112)(!0);n(48)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){n(119);var r=n(14);r.NodeList=r.HTMLCollection=r.Array},function(t,e){function n(t,e){return t="number"==typeof t||r.test(t)?+t:-1,e=null==e?o:e,t>-1&&t%1==0&&e>t}var r=/^\d+$/,o=9007199254740991;t.exports=n},function(t,e,n){function r(t){return i(t)&&o(t)&&s.call(t,"callee")&&!u.call(t,"callee")}var o=n(21),i=n(23),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;t.exports=r},function(t,e){t.exports=i},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(11)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(10),c=u(l),f=n(28),p=u(f),h=n(18),d=u(h),y=n(6);n(126);var v=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.chartConstructor=m}return o(e,t),i(e,null,[{key:"propTypes",value:s({},e.propTypes,{fillColor:y.PropTypes.oneOfType([y.PropTypes.string,y.PropTypes.number]),fillOpacity:y.PropTypes.number}),enumerable:!0}]),i(e,[{key:"getClassSuffix",value:function(){return"area-chart"}}]),e}(d["default"]);e["default"]=v;var m=function(t){function e(t,n){var o=this;a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n);var i=this;this.configs.fillColor={value:n.fillColor},this.configs.fillOpacity={value:n.fillOpacity};var s=c["default"].svg.area().interpolate("basis").x(function(t){return o.config("xScale")(o.accessor("x")(t))}).y0(function(t){return o.config("yScale")(0)}).y1(function(t){return o.config("yScale")(o.accessor("y")(t))}),u=this.baseLayer=this.base.append("g").classed("area-layer",!0);this.updateDimensions();var l=this.layer("area-layer",u,{dataBind:function(t){return this.selectAll("path.area").data(t)},insert:function(){return this.append("path").attr("class","area").style({fill:i.config("fillColor"),opacity:i.config("fillOpacity"),stroke:"none"})}});l.on("update",function(){}).on("enter",function(){}).on("merge",function(){return this.attr("d",function(t){return s(t)}).style({fill:i.config("fillColor"),opacity:i.config("fillOpacity"),stroke:"none"})}).on("exit",function(){})}return o(e,t),i(e,[{key:"updateConfigs",value:function(t){r(Object.getPrototypeOf(e.prototype),"updateConfigs",this).call(this,t),this.config("fillColor",t.fillColor).config("fillOpacity",t.fillOpacity)}},{key:"updateScales",value:function(t){this.config("xScale").range([0,this._innerWidth]),this.config("yScale").range([this._innerHeight,0])}}]),e}(p["default"]);e.AreaChartImpl=m},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(11)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),c=n(18),f=u(c),p=n(28),h=u(p),d=n(10),y=u(d);n(127);var v=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.chartConstructor=m}return o(e,t),i(e,null,[{key:"propTypes",value:s({},f["default"].propTypes,{barSpacing:l.PropTypes.number}),enumerable:!0},{key:"defaultProps",value:s({},f["default"].defaultProps,{barSpacing:.1,xScale:y["default"].scale.ordinal()}),enumerable:!0}]),i(e,[{key:"getClassSuffix",value:function(){return"bar-chart vertical"}}]),e}(f["default"]);e["default"]=v;var m=function(t){function e(t,n){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n);var o=this;this.configs.barSpacing={value:n.barSpacing};var i=this.baseLayer=this.base.append("g").classed("bars",!0);this.updateDimensions();var s=this.layer("bars",i,{dataBind:function(t){return this.selectAll("rect").data(t)},insert:function(){return this.append("rect").attr("class","bar").attr("width",o.config("xScale").rangeBand())}});s.on("enter",function(){return this.attr("x",function(t){return o.config("xScale")(o.accessor("x")(t))}).attr("y",function(t){return o.config("yScale")(o.accessor("y")(t))}).attr("height",function(t){return o._innerHeight-o.config("yScale")(o.accessor("y")(t))})}).on("merge",function(){}).on("exit",function(){})}return o(e,t),i(e,[{key:"updateScales",value:function(t){var e=this;this.config("xScale").rangeRoundBands([0,this._innerWidth],this.config("barSpacing")),this.config("yScale").range([this._innerHeight,0]),this.config("xScale").domain(t.map(function(t){return e.accessor("x")(t)})),this.config("yScale").domain([0,y["default"].max(t,function(t){return e.accessor("y")(t)})])}}]),e}(h["default"]);e.DiscreteBarChartImpl=m},function(t,e,n){t.exports={"default":n(85),__esModule:!0}},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e},e.__esModule=!0},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(19);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var r=n(49),o=n(17),i=n(51),a=n(35),s=n(46),u=n(14),l=n(100),c=n(36),f=n(7).getProto,p=n(8)("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",y="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,x,b,_){l(n,e,g);var P,T,k=function(t){if(!h&&t in j)return j[t];switch(t){case y:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",w=x==v,S=!1,j=t.prototype,C=j[p]||j[d]||x&&j[x],E=C||k(x);if(C){var M=f(E.call(new t));c(M,O,!0),!r&&s(j,d)&&a(M,p,m),w&&C.name!==v&&(S=!0,E=function(){return C.call(this)})}if(r&&!_||!h&&!S&&j[p]||a(j,p,E),u[e]=E,u[O]=m,x)if(P={values:w?E:k(v),keys:b?E:k(y),entries:w?k("entries"):E},_)for(T in P)T in j||i(j,T,P[T]);else o(o.P+o.F*(h||S),e,P);return P}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(35)},function(t,e,n){var r=n(7).getDesc,o=n(20),i=n(13),a=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n(16)(Function.call,r(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:a}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(47),o=n(32);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(31),o=n(8)("iterator"),i=n(14);t.exports=n(9).getIteratorMethod=function(t){return void 0!=t?t[o]||t["@@iterator"]||i[r(t)]:void 0}},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=a,t.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=n},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}var o=n(153);t.exports=r},function(t,e,n){function r(t,e){var n=null==t?void 0:t[e];return o(n)?n:void 0}var o=n(151);t.exports=r},function(t,e,n){function r(t){return o(t)?t:Object(t)}var o=n(15);t.exports=r},function(t,e,n){var r=n(136),o=n(137),i=n(143),a=i(function(t,e,n){return n?r(t,e,n):o(t,e)});t.exports=a},function(t,e,n){var r=n(58),o=n(21),i=n(15),a=n(149),s=r(Object,"keys"),u=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?a(t):i(t)?s(t):[]}:a;t.exports=u},function(t,e,n){function r(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(i(t)||o(t))&&e||0;for(var n=t.constructor,r=-1,l="function"==typeof n&&n.prototype===t,f=Array(e),p=e>0;++r<e;)f[r]=r+"";for(var h in t)p&&a(h,e)||"constructor"==h&&(l||!c.call(t,h))||f.push(h);return f}var o=n(40),i=n(24),a=n(39),s=n(22),u=n(15),l=Object.prototype,c=l.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t,e){function n(t){return new o(function(e,n){var o=(0,s["default"])(3);t.forEach(function(t){o.defer(r,t)}),o.awaitAll(function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;r>i;i++)o[i-1]=arguments[i];t?n(t):e.apply(void 0,o)})})}function r(t,n){i.sqlRequest(t.query,function(e,r){if(e)n(e);else{var o=void 0;switch(t.format.toLowerCase()){case"geojson":o=r.features;break;default:o=r.rows}n(null,o)}},{format:t.format,dangerouslyExposedAPIKey:e})}var i=new l["default"](t);return{query:n}}var o=n(82)["default"],i=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var a=n(154),s=i(a),u=n(155),l=i(u);t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(11)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(10),c=u(l),f=n(43),p=u(f),h=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.chartConstructor=d}return o(e,t),i(e,null,[{key:"propTypes",value:s({},p["default"].propTypes),enumerable:!0},{key:"defaultProps",value:s({},p["default"].defaultProps,{xScale:c["default"].scale.linear(),yScale:c["default"].scale.ordinal()}),enumerable:!0}]),i(e,[{key:"getClassSuffix",value:function(){return"bar-chart horizontal"}}]),e}(p["default"]);e["default"]=h;var d=function(t){function e(t,n){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n);var o=this,i=this.layer("bars");i.insert=function(){return this.append("rect").attr("class","bar").attr("height",o.config("yScale").rangeBand())},i.on("enter",function(){return this.attr("x",function(t){return"0"}).attr("y",function(t){return o.config("yScale")(o.accessor("y")(t))}).attr("width",function(t){return o.config("xScale")(o.accessor("x")(t))}).attr("height",o.config("yScale").rangeBand())})}return o(e,t),i(e,[{key:"updateScales",value:function(t){var e=this;this.config("yScale").rangeRoundBands([0,this._innerHeight],this.config("barSpacing")),this.config("yScale").domain(t.map(function(t){return e.accessor("y")(t)})),this.config("xScale").range([0,this._innerWidth]),this.config("xScale").domain([0,c["default"].max(t,function(t){return e.accessor("x")(t)})])}}]),e}(f.DiscreteBarChartImpl);e.HorizontalDiscreteBarChartImpl=d},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(11)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(156),c=n(6),f=u(c);n(128);var p=function(t){function e(t){var n=this;a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.intro=(0,l.introJs)(document.querySelector("body")),this.introIsOpen=!1,this.intro.onexit(function(){n.introIsOpen=!1,n.props.onExit&&n.props.onExit()})}return o(e,t),i(e,null,[{key:"propTypes",value:{open:c.PropTypes.bool,step:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]),steps:c.PropTypes.arrayOf(c.PropTypes.shape({element:c.PropTypes.string,intro:c.PropTypes.string,position:function(t,e,n){return/top|right|bottom|left/.test(t[e])?void 0:new Error("`position` must be one of 'top', 'right', 'bottom', or 'left'.")}})).isRequired,config:c.PropTypes.object,onExit:c.PropTypes.func},enumerable:!0},{key:"defaultProps",value:{open:!1,step:0,steps:[],config:{showStepNumbers:!1,skipLabel:"×",nextLabel:"⟩",prevLabel:"⟨",doneLabel:"×"},onExit:null},enumerable:!0}]),i(e,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){if(this.props.open){var t={steps:this.props.steps};t=s(t,this.props.config),this.intro.setOptions(t),this.intro.refresh(),this.props.step?this.introIsOpen?this.intro.goToStep(this.props.step).nextStep():this.intro.goToStep(this.props.step).start():this.intro.start(),this.introIsOpen=!0}else this.intro.exit()}},{key:"getDefaultState",value:function(){return{}}},{key:"render",value:function(){return f["default"].createElement("div",{className:"panorama intro-manager"})}}]),e}(f["default"].Component);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=s(u),c=n(27);n(129);var f=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.onItemClick=this.onItemClick.bind(this),this.onArrowMouseDown=this.onArrowMouseDown.bind(this),this.onArrowMouseUp=this.onArrowMouseUp.bind(this),this.animateScrollPosition=this.animateScrollPosition.bind(this)}return o(e,t),i(e,null,[{key:"propTypes",value:{title:u.PropTypes.string,items:u.PropTypes.array.isRequired,selectedIndex:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),selectedItem:u.PropTypes.object,onItemSelected:u.PropTypes.func},enumerable:!0},{key:"defaultProps",value:{title:"",items:[],selectedIndex:"",selectedItem:null,onItemSelected:null},enumerable:!0}]),i(e,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.scrollToSelectedItem()}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){this.scrollToSelectedItem()}},{key:"onItemClick",value:function(t){t.currentTarget&&t.currentTarget.dataset&&(this.props.onItemSelected&&this.props.onItemSelected(this.props.items[t.currentTarget.dataset.index],t.currentTarget.dataset.index),c.PanoramaDispatcher.ItemSelector.selected(this.props.items[t.currentTarget.dataset.index],t.currentTarget.dataset.index))}},{key:"onArrowMouseDown",value:function(t){var e=void 0;if(t.target.classList.contains("up-arrow")?e=-1:t.target.classList.contains("down-arrow")&&(e=1),e){var n=this.refs["item-list"],r=16,o=0,i=n.querySelector("li"),a=window.getComputedStyle(i),s=i.offsetHeight+(a?parseFloat(a["margin-bottom"].replace("px","")):0);this.arrowMouseUp=!1;var u=function(){o--<=1&&(this.scrollToPosition(n.scrollTop+e*s),o=r=Math.max(1,Math.floor(.75*r))),this.arrowMouseUp||window.requestAnimationFrame(u)}.bind(this);window.requestAnimationFrame(u)}}},{key:"onArrowMouseUp",value:function(t){this.arrowMouseUp=!0}},{key:"scrollToPosition",value:function(t){"undefined"==typeof this.targetScrollPosition?(this.targetScrollPosition=t,this.animateScrollPosition()):this.targetScrollPosition=t}},{key:"scrollToSelectedItem",value:function(){var t=this.refs["item-list"],e=t.querySelector(".selected");e&&this.scrollToPosition(e.offsetTop-t.offsetHeight)}},{key:"animateScrollPosition",value:function(){var t=this.refs["item-list"],e=void 0;"undefined"==typeof this.scrollPosition&&(this.scrollPosition=t.scrollTop),e=this.targetScrollPosition-this.scrollPosition,Math.abs(e)>1?(this.scrollPosition+=.25*e,t.scrollTop=this.scrollPosition,window.requestAnimationFrame(this.animateScrollPosition)):(t.scrollTop=this.targetScrollPosition,this.targetScrollPosition=void 0,this.scrollPosition=void 0)}},{key:"getDefaultState",value:function(){return{}}},{key:"render",value:function(){var t=this,e=void 0;return l["default"].createElement("div",{className:"panorama item-selector"},l["default"].createElement("h3",null,this.props.title),l["default"].createElement("div",{className:"scroll-arrow up-arrow",onMouseDown:this.onArrowMouseDown,onMouseUp:this.onArrowMouseUp}),l["default"].createElement("ul",{ref:"item-list"},this.props.items.map(function(n,r){return e=t.props.selectedItem.id==n.id||t.props.selectedItem===n||t.props.selectedIndex===r,l["default"].createElement("li",{className:"item"+(e?" selected":""),"data-index":r,key:r,onClick:t.onItemClick},l["default"].createElement("span",null,n.name.toUpperCase()))})),l["default"].createElement("div",{className:"scroll-arrow down-arrow",onMouseDown:this.onArrowMouseDown,onMouseUp:this.onArrowMouseUp}))}}]),e}(l["default"].Component);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(29)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),c=(u(l),n(26)),f=n(25),p=n(152),h=u(p),d=n(15),y=(u(d),n(24)),v=(u(y),n(60)),m=(u(v),["stroke","color","weight","opacity","fill","fillColor","fillOpacity","fillRule","dashArray","lineCap","lineJoin","clickable","pointerEvents","className"]);n(130);var g=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.mouseTimer=null,this.currentId=null,this.hasTooltip=!1,this.state={showTooltip:!1,tooltipPosition:null,tooltipContent:""}}return o(e,t),i(e,null,[{key:"PropTypes",value:{styler:l.PropTypes.func,onEachFeature:l.PropTypes.func,setTooltipContent:l.PropTypes.func,selectedStyle:l.PropTypes.object,onFeatureClick:l.PropTypes.func},enumerable:!0},{key:"defaultProps",value:{selectedStyle:{}},enumerable:!0}]),i(e,[{key:"shouldComponentUpdate",value:function(t){return!0}},{key:"componentWillMount",value:function(){r(Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props.data,n=this.setGeoJSONOptions();this.setTooltipFlag(),this.leafletElement=(0,f.geoJson)(t,n)}},{key:"componentDidMount",value:function(){var t=this.props.map;this.leafletElement.addTo(t),this.hasTooltip&&t.on("mousemove",this.onMouseMove.bind(this))}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(t){var e=this.props.data;t.data!==e&&this.leafletElement.addData(e)}},{key:"setGeoJSONOptions",value:function(){var t=s(this.props,[]);return{style:t.style||null,onEachFeature:t.onEachFeature||this.onEachFeature.bind(this),filter:t.filter||null,pointToLayer:t.pointToLayer||null,coordsToLatLng:t.coordsToLatLng||null}}},{key:"setTooltipFlag",value:function(){var t=this,e=this.props.children;l.Children.forEach(e,function(e){e.type&&e.type.name&&"Tooltip"===e.type.name&&(t.hasTooltip=!0)})}},{key:"getPathOptions",value:function(t){return(0,h["default"])(t,m)}},{key:"getTooltipContent",value:function(t){return"function"==typeof this.props.setTooltipContent?this.props.setTooltipContent(t):""}},{key:"onMouseOver",value:function(t){if(this.currentId!==t.target){if(t.target.setStyle(this.props.selectedStyle),this.currentId!==t.target){this.currentId=t.target;var e=this.getTooltipContent(t.target.feature);this.setState({showTooltip:!0,tooltipPosition:t.latlng,tooltipContent:e})}L.Browser.ie||L.Browser.opera||t.target.bringToFront()}}},{key:"onMouseOut",value:function(t){var e=this;this.leafletElement.resetStyle(t.target),this.currentId=null,clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){null===e.currentId&&(e.currentId=null,e.setState({showTooltip:!1}))},200)}},{key:"onMouseMove",value:function(t){this.currentId&&(f.DomEvent.stopPropagation(t),this.setState({tooltipPosition:t.latlng}))}},{key:"onClick",value:function(t){"function"==typeof this.props.onFeatureClick&&this.props.onFeatureClick(t.target,this.props.map)}},{key:"onEachFeature",value:function(t,e){this.hasTooltip&&e.on({mouseover:this.onMouseOver.bind(this),mouseout:this.onMouseOut.bind(this)
}),e.on("click",this.onClick.bind(this))}},{key:"render",value:function(){return this.renderChildrenWithProps({tooltipContainer:this.leafletElement,popupContainer:this.leafletElement,position:this.state.tooltipPosition,isOpen:this.state.showTooltip,content:this.state.tooltipContent})}}]),e}(c.MapLayer);e["default"]=g,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(29)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),c=(u(l),n(26)),f=(n(25),n(69)),p=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return o(e,t),i(e,null,[{key:"propTypes",value:{center:c.PropTypes.latlng.isRequired,outerRadius:l.PropTypes.number.isRequired,innerRadius:l.PropTypes.number.isRequired},enumerable:!0},{key:"defaultProps",value:{},enumerable:!0}]),i(e,[{key:"componentWillMount",value:function(){var t=this.props,n=t.center,o=t.outerRadius,i=t.innerRadius,a=s(t,["center","outerRadius","innerRadius"]);r(Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this),this.leafletElement=new f.LeafletDonut(n,o,i,this.getPathOptions(a))}},{key:"componentDidUpdate",value:function(t){this.props.center!==t.center&&this.leafletElement.setLatLng(this.props.center),(this.props.outerRadius!==t.outerRadius||this.props.innerRadius!==t.innerRadius)&&this.leafletElement.setRadius(this.props.outerRadius,this.props.innerRadius),this.setStyleIfChanged(t,this.props)}}]),e}(c.Path);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var o=n(45)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),a=o(i),s=function(t){return t.Circle.extend({initialize:function(e,n,r,o){t.Path.prototype.initialize.call(this,o),this._latlng=t.latLng(e),this._mOuterRadius=n,this._mInnerRadius=this._validateInnerRadius(n,r)},setRadius:function(t,e){return this._mOuterRadius=t,this._mInnerRadius=this._validateInnerRadius(t,e),this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t[0]]),r=this._map.latLngToLayerPoint([e.lat,e.lng-t[1]]);this._point=this._map.latLngToLayerPoint(e),this._outerRadius=Math.max(this._point.x-n.x,1),this._innerRadius=Math.max(this._point.x-r.x,1)},getBounds:function(){var e=this._getLngRadius()[0],n=this._getLatRadius()[0],r=this._latlng;return new t.LatLngBounds([r.lat-n,r.lng-e],[r.lat+n,r.lng+e])},getRadius:function(){return[this._mOuterRadius,this._mInnerRadius]},_getLatRadius:function(){return[this._mOuterRadius/40075017*360,this._mInnerRadius/40075017*360]},_getLngRadius:function(){var e=this._getLatRadius();return[e[0]/Math.cos(t.LatLng.DEG_TO_RAD*this._latlng.lat),e[1]/Math.cos(t.LatLng.DEG_TO_RAD*this._latlng.lat)]},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._outerRadius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y},_validateInnerRadius:function(t,e){return e>=t?t-1:e},getArc:function(t,e,n){var r=t.x-.01,o=t.y-e,i=t.y-n;return["M",t.x,o,"A",e,e,0,1,1,r,o,"M",r,i,"A",n,n,0,1,0,t.x,i,"Z"].join(" ")},getPathString:function(){var e=this._point,n=this._outerRadius,o=this._innerRadius;return this._checkIfEmpty()?"":t.Browser.svg?this.getArc(e,n,o):(e._round(),r=Math.round(r),"AL "+e.x+","+e.y+" "+n+","+n+" 0,23592600")}})}(a);e.LeafletDonut=s},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(29)["default"],u=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),c=n(26),f=n(25),p=n(60),h=u(p),d=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),i(e,[{key:"componentWillMount",value:function(){r(Object.getPrototypeOf(e.prototype),"componentWillMount",this).call(this);var t=this.props,n=(t.children,t.map,s(t,["children","map"])),o=(0,h["default"])({},n);o.className=o.className?o.className+" panorama-leaflet-tip":"panorama-leaflet-tip",o.closeButton=!1,o.offset=o.offset||[0,-3],this.leafletElement=(0,f.popup)(o)}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.map,r=e.position,o=e.isOpen,i=e.content;r!==t.position&&this.leafletElement.setLatLng(r),i!==t.content&&this.leafletElement.setContent(i),o!==t.isOpen&&(o?(this.leafletElement.openOn(n),this.renderPopupContent()):(n.closePopup(),this.removePopupContent()))}}],[{key:"propTypes",value:{children:l.PropTypes.node,map:l.PropTypes.instanceOf(f.Map),tooltipContainer:l.PropTypes.object,position:c.PropTypes.latlng},enumerable:!0}]),e}(c.Popup);e["default"]=d,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=s(u),c=n(27);n(131);var f=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.onItemClick=this.onItemClick.bind(this),this.onItemEnter=this.onItemEnter.bind(this),this.onItemLeave=this.onItemLeave.bind(this)}return o(e,t),i(e,null,[{key:"propTypes",value:{items:u.PropTypes.array.isRequired,selectedItem:u.PropTypes.string,onItemSelected:u.PropTypes.func},enumerable:!0},{key:"defaultProps",value:{items:[],selectedItem:"",onItemSelected:null},enumerable:!0}]),i(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"onItemClick",value:function(t){t.currentTarget&&t.currentTarget.dataset&&(this.props.onItemSelected&&this.props.onItemSelected(t.currentTarget.dataset.item,this.props.items.indexOf(t.currentTarget.dataset.item)),c.PanoramaDispatcher.Legend.selected(t.currentTarget.dataset.item,this.props.items.indexOf(t.currentTarget.dataset.item)))}},{key:"onItemEnter",value:function(t){}},{key:"onItemLeave",value:function(t){}},{key:"render",value:function(){var t=this;return l["default"].createElement("div",{className:"panorama legend"},l["default"].createElement("ul",null,this.props.items.map(function(e){return l["default"].createElement("li",{className:"item"+(t.props.selectedItem===e?" selected":""),"data-item":e,key:e,onClick:t.onItemClick,onMouseEnter:t.onItemEnter,onMouseLeave:t.onItemLeave},l["default"].createElement("span",null,t.capitalize(e)))})))}},{key:"capitalize",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),e}(l["default"].Component);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(84)["default"],u=n(11)["default"],l=n(44)["default"],c=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var f=n(6),p=n(10),h=c(p),d=n(41),y=c(d),v=n(18),m=c(v),g=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.chartConstructor=x}return o(e,t),i(e,null,[{key:"propTypes",value:u({},m["default"].propTypes,{range:f.PropTypes.arrayOf(f.PropTypes.string),projection:f.PropTypes.string,mapScale:f.PropTypes.number}),enumerable:!0},{key:"defaultProps",value:u({},m["default"].defaultProps,{range:["#EDF8FB","#BFD3E6","#9EBCDA","#8C96C6","#8C6BB1","#88419D","#6E016B"],projection:"albersUsa",mapScale:500}),enumerable:!0}]),i(e,[{key:"getClassSuffix",value:function(){return"map choropleth"}}]),e}(m["default"]);e["default"]=g;var x=function(t){function e(t,n){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),u(this.configs,{width:{value:n.width},height:{value:n.height},margin:{value:n.margin},range:{value:n.range},projection:{value:n.projection},mapScale:{value:n.mapScale}});var o=this;this._path=h["default"].geo.path(),this._projection=h["default"].geo[this.config("projection")](),this.data={geometry:[],values:[]},this.colorScale=h["default"].scale.quantize().range(this.config("range")),this.baseLayer=this.base.append("g").classed("map",!0),this.updateDimensions();var i=this.layer("geo",this.baseLayer,{dataBind:function(t){return o.data.geometry=t.geometry||{geometry:{features:[]}},o.data.values=t.values||[],t.geometry?(console.log("REAL"),this.selectAll("path").data(o.data.geometry.features)):this.selectAll("path").data([])},insert:function(){return console.log("Insert"),this.append("path").attr("class","geometry").style("fill",function(t){return o.colorScale(o.data.values.get(t.id))}).attr("d",o._path)}});i.on("enter",function(){}).on("merge",function(){}).on("exit",function(){})}return o(e,t),i(e,[{key:"fitMap",value:function(t){var e=h["default"].geo[this.config("projection")]().scale(1).translate([0,0]),n=h["default"].geo.path().projection(e),r=n.bounds(t),o=.95/Math.max((r[1][0]-r[0][0])/this._innerWidth,(r[1][1]-r[0][1])/this._innerHeight),i=[(this._innerWidth-o*(r[1][0]+r[0][0]))/2,(this._innerHeight-o*(r[1][1]+r[0][1]))/2];return[o,i]}},{key:"updateDimensions",value:function(){var t=this.config("margin");this._innerWidth=this.config("width")-t.left-t.right,this._innerHeight=this.config("height")-t.top-t.bottom,this.base.attr("width",this.config("width")),this.base.attr("height",this.config("height")),this.baseLayer.attr("transform","translate("+t.left+","+t.top+")")}},{key:"updateProjection",value:function(t){if(t.geometry){var e=this.config("mapScale"),n=[this._innerWidth/2,this._innerHeight/2];if("auto"===this.config("mapScale")){var r=this.fitMap(t.geometry),o=s(r,2);e=o[0],n=o[1]}this._projection=h["default"].geo[this.config("projection")]().scale(e).translate(n),this._path.projection(this._projection)}}},{key:"updateColorScale",value:function(t){var e=0;if(t.values){e=-(1/0);var n=!0,r=!1,o=void 0;try{for(var i,a=l(t.values.values());!(n=(i=a.next()).done);n=!0){var s=i.value;s>e&&(e=s)}}catch(u){r=!0,o=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}console.log("MAX: ",e)}this.colorScale.domain([0,e]).range(this.config("range"))}},{key:"preDraw",value:function(t){this.updateDimensions(),this.updateProjection(t),this.updateColorScale(t)}}]),e}(y["default"]);e.MapChoroplethImpl=x},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(83)["default"],u=n(11)["default"],l=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(10),f=(l(c),n(28)),p=l(f),h=n(18),d=l(h),y=n(42),v=l(y),m=n(6),g=l(m);n(132);var x=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.chartConstructor=b,this.chartIdAccessor=t.chartIdAccessor}return o(e,t),i(e,null,[{key:"propTypes",value:u({},v["default"].propTypes,{areaChartData:m.PropTypes.array,chartSpacing:m.PropTypes.number,colorPalette:m.PropTypes.array,selectedChartId:m.PropTypes.oneOfType([m.PropTypes.string,m.PropTypes.number]),chartIdAccessor:m.PropTypes.func,metadataAccessor:m.PropTypes.func}),enumerable:!0},{key:"defaultProps",value:u({},v["default"].defaultProps,{areaChartData:[],chartSpacing:4,colorPalette:null,selectedChartId:null,chartIdAccessor:null,metadataAccessor:null}),enumerable:!0}]),i(e,[{key:"getClassSuffix",value:function(){return"offset-area-chart"}},{key:"renderChildren",value:function(){var t=this,e=-this.props.areaChartData.length*this.props.chartSpacing;return g["default"].createElement("div",null,this.props.areaChartData.map(function(n,r){var o=u({},t.props,t.props.areaChartConfig,{data:[n],width:t.props.width-t.props.margin.left-t.props.margin.right,height:t.props.height-t.props.margin.top-t.props.margin.bottom+e,margin:{top:0,right:0,bottom:0,left:0},axisProps:null});if(t.props.colorPalette&&(o.fillColor=t.props.colorPalette[r%t.props.colorPalette.length]),t.props.selectedChartId&&t.props.chartIdAccessor){var i=t.props.chartIdAccessor(n);o.fillOpacity=t.props.selectedChartId===i?.9:.25}return g["default"].createElement(v["default"],s({key:r},o,{style:{left:t.props.margin.left+"px",top:r*t.props.chartSpacing+"px"}}))}))}}]),e}(d["default"]);e["default"]=x;var b=function(t){function e(t,n){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n);var o=this;this.configs.selectedChartId={value:n.selectedChartId},this.accessor("chartId",n.chartIdAccessor),this.accessor("metadata",n.metadataAccessor);var i=this.baseLayer=this.base.append("g").classed("offset-area-layer",!0);this.updateDimensions();var s=this.layer("offset-area-line-layer",i,{dataBind:function(t){return this.selectAll("line.lifespan").data(t)},insert:function(){var t=o.config("height")-o.config("margin").bottom-this.size()*n.chartSpacing,e=o.config("xScale").domain();return this.append("line").attr("class","lifespan").attr("x1",function(t){return o.config("xScale")(Math.max(o.accessor("x")(t,0),e[0]))}).attr("x2",function(t){return o.config("xScale")(Math.min(o.accessor("x")(t,1),e[1]))}).attr("y1",0).attr("y2",0).attr("transform",function(e,r){return"translate(0,"+(t+r*n.chartSpacing)+")"}).style("stroke",function(t,e){return n.colorPalette[e%n.colorPalette.length]})}});s.on("update",function(){}).on("enter",function(){}).on("merge",function(){return this.style("opacity",function(t){return o.accessor("chartId")(t)==o.config("selectedChartId")?.9:.25})}).on("exit",function(){});var u=this.layer("offset-area-dots-layer",i,{dataBind:function(t){return this.selectAll("g.metadata").data(t)},insert:function(){var t=o.config("height")-o.config("margin").bottom-this.size()*n.chartSpacing,e=o.config("xScale").domain();return this.append("g").attr("class","metadata").attr("transform",function(e,r){return"translate(0,"+(t+r*n.chartSpacing)+")"}).selectAll("circle").data(function(t){return o.accessor("metadata")(t)}).enter().append("circle").attr("cx",function(t){return o.config("xScale")(Math.max(t,e[0]))}).attr("cy",0).attr("r",2).style("fill",function(t,e,r){return n.colorPalette[r%n.colorPalette.length]})}});u.on("merge",function(){return this.style("opacity",function(t){return o.accessor("chartId")(t)==o.config("selectedChartId")?.9:.25})})}return o(e,t),i(e,[{key:"updateConfigs",value:function(t){r(Object.getPrototypeOf(e.prototype),"updateConfigs",this).call(this,t),this.config("selectedChartId",t.selectedChartId)}},{key:"updateScales",value:function(t){this.config("xScale").range([0,this._innerWidth]),this.config("yScale").range([this._innerHeight,0])}}]),e}(p["default"]);e.OffsetAreaChartImpl=b},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(1)["default"],u=n(45)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),c=s(l),f=n(10),p=u(f),h=n(157),d=s(h);n(133);var y=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,null,[{key:"propTypes",value:{header:l.PropTypes.object,categories:l.PropTypes.array.isRequired,items:l.PropTypes.array.isRequired},enumerable:!0},{key:"defaultProps",value:{header:{title:"",subtitle:"",caption:""},categories:[],items:[]},enumerable:!0}]),i(e,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.renderVisualization()}},{key:"componentDidUpdate",value:function(){v.destroy(this.refs.content),this.renderVisualization()}},{key:"componentWillUnmount",value:function(){v.destroy(this.refs.content)}},{key:"render",value:function(){return c["default"].createElement("div",{className:"panorama punchcard"},this.renderPlaceholder(),this.renderHeader(),c["default"].createElement("div",{className:"content",ref:"content"}))}},{key:"renderVisualization",value:function(){d["default"].isEmpty(this.props.categories)?this.refs.placeholder.style.display="":(this.refs.placeholder.style.display="none",v.update(this.refs.content,this.props.categories,this.props.items))}},{key:"renderHeader",value:function(){return c["default"].createElement("div",{className:"header",ref:"header"},c["default"].createElement("h2",null,this.props.header.title?this.props.header.title.toUpperCase():""),c["default"].createElement("h3",null,c["default"].createElement("span",{className:"subtitle"},this.props.header.subtitle),c["default"].createElement("span",{className:"caption"},p.format(",")(this.props.header.caption)," total tonnage")))}},{key:"renderPlaceholder",value:function(){return d["default"].isEmpty(this.props.categories)?c["default"].createElement("div",{className:"placeholder",ref:"placeholder"},c["default"].createElement("h4",null,"No commodities data available for this canal in the selected year.")):c["default"].createElement("div",{className:"placeholder",ref:"placeholder"},c["default"].createElement("h4",null,"Loading..."))}}]),e}(c["default"].Component);e["default"]=y;var v={ROW_HEIGHT:25,COMMODITY_TEXT_OFFSET_Y:5,create:function(t,e,n){this.update(t,e,n)},update:function(t,e,n){var r=this,o=p.scale.sqrt().range([2,8]).domain([1,p.max(n,function(t){return t.normalizedValue})]),i=p.scale.ordinal().range(["rgb(188, 35, 64)","rgb(228, 104, 75)","rgb(187, 27, 105)","rgb(103, 116, 99)","rgb(26, 169, 143)","rgb(10, 103, 150)","rgb(67, 40, 93)","rgb(86, 96, 99)"]).domain([1,p.max(e,function(t){return t.aggregateNormalizedValue})]),a=p.select(t).selectAll("div").data(e).enter().append("div").attr("style",function(t){return"color: "+i(t.aggregateNormalizedValue)+";"}).attr("class","category");a.append("h4").text(function(t){return t.name}),a=a.append("svg").attr("height",function(t){return t.commodities.length*r.ROW_HEIGHT}).style("fill",function(t){return i(t.aggregateNormalizedValue)});var s=a.node().offsetWidth,u=a.selectAll("g").data(function(t){return t.commodities}).enter().append("g");u.append("circle").attr("r",function(t){return o(t.normalizedValue)}),u.append("text").text(function(t){return t.name}).attr("x",2*r.ROW_HEIGHT).attr("y",r.COMMODITY_TEXT_OFFSET_Y).call(this.wrap,s-2.5*r.ROW_HEIGHT);var l=void 0;a.each(function(t,e){p.select(this).selectAll("g").each(function(t,e){e||(l=0);var n=p.select(this);n.attr("transform","translate("+.5*r.ROW_HEIGHT+", "+(e+.5+l)*r.ROW_HEIGHT+")"),l+=n.selectAll("tspan").size()-1});var n=p.select(this);n.attr("height",parseFloat(n.attr("height"))+l*r.ROW_HEIGHT)})},destroy:function(t){p.select(t).html("")},wrap:function(t,e){t.each(function(){var t=["/","&"],n=p.select(this),r=n.text(),o=void 0;t.forEach(function(t){r=r.replace(t,t+" ")});for(var i=r.split(/\s+/).reverse(),a=void 0,s=[],u=0,l=1.1,c=n.attr("x"),f=n.attr("y"),h=parseFloat(n.attr("dy")||0),d=n.text(null).append("tspan").attr("x",c).attr("y",f).attr("dy",h+"em");a=i.pop();)s.push(a),d.text(s.join(" ")),d.node().getComputedTextLength()>e&&(s.pop(),o=s.join(" "),t.forEach(function(t){o=o.replace(t+" ",t)}),d.text(o),s=[a],d=n.append("tspan").attr("x",c).attr("y",f).attr("dy",++u*l+h+"em").text(a))})}};t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),l=n(26),c=n(10),f=s(c);n(134);var p=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.map=null}return o(e,t),i(e,null,[{key:"propTypes",value:{features:u.PropTypes.object.isRequired,currentDate:u.PropTypes.instanceOf(Date)},enumerable:!0},{key:"defaultProps",value:{features:{},currentDate:null},enumerable:!0}]),i(e,[{key:"componentDidMount",value:function(){this.markers=[],this.map=this.props.map,this._el=L.DomUtil.create("div","panorama time-based-markers-layer leaflet-zoom-hide leaflet-d3-overlay"),this.map.getPanes().overlayPane.appendChild(this._el),this.svg=f["default"].select(this._el).append("svg"),this.container=this.svg.append("g").attr("class","panorama time-based-markers-container"),this.setOverlayPosition(),this.map.on("viewreset",this._reset,this),this.dirty&&this.draw(this.props.features)}},{key:"componentWillUnmount",value:function(){this.map.getPanes().overlayPane.removeChild(this._el),this.map.off("viewreset",this._reset,this),this.markers=[],this.line=null}},{key:"componentDidUpdate",value:function(){var t=this;this.props.features&&this.props.features.features.length&&!this.loaded&&this.draw(this.props.features),this.props.currentDate!==this.currentDate&&(this.currentDate=this.props.currentDate,this.filter()),setTimeout(function(){t.map.getPanes().overlayPane.appendChild(t._el)},1)}},{key:"render",value:function(){return!1}},{key:"setOverlayPosition",value:function(){var t=this.map.getBounds(),e=this.map.latLngToLayerPoint(t.getNorthWest());this.map.latLngToLayerPoint(t.getSouthEast());this.svg&&(f["default"].select(this._el).style("width",this.map.getSize().x+"px").style("height",this.map.getSize().y+"px").style("margin-left","0px").style("margin-top","0px").attr("transform","translate("+-e.x+","+-e.y+")"),this.svg.style("width",this.map.getSize().x+"px").style("height",this.map.getSize().y+"px"))}},{key:"_reset",value:function(){this.setOverlayPosition(),this.filter(),this.position()}},{key:"filter",value:function(){if(this.map){var t=this.props.currentDate||null,e=this.map.getZoom(),n=!1;this.markers.forEach(function(r){r.show="none",t&&e>=r.zoomStart&&e<=r.zoomEnd&&(r.start?!r.end&&t>=r.start?(r.show="block",n=!0):t>=r.start&&t<=r.end&&(r.show="block",n=!0):(r.show="block",n=!0)),r.elm.style("display",r.show)}),n&&this.position()}}},{key:"position",value:function(){if(this.markers&&this.map){var t=this;this.markers.forEach(function(e){if("none"!==e.show){var n;"icon"===e.markerType?(n=t.map.latLngToLayerPoint(e.coords),e.elm.attr("cx",n.x+"px").attr("cy",n.y+"px")):"label"===e.markerType?(n=t.map.latLngToLayerPoint(e.coords),e.elm.attr("x",n.x+"px").attr("y",n.y+"px")):"line"===e.markerType&&e.elm.attr("d",t.line(e.coords))}})}}},{key:"draw",value:function(t){function e(t,e){return i.container.append("circle").attr("class","time-based-"+[e.maptype,e.type].join(" ")).attr("cx",t.x+"px").attr("cy",t.y+"px").attr("r",3)}function n(t,e){var n="left"===e.justify?"start":"end";return i.container.append("text").attr("class","with-outlines time-based-"+[e.maptype,e.type].join(" ")).attr("x",t.x+"px").attr("y",t.y+"px").attr("text-anchor",n).text(e.location)}function r(t,e){return i.container.append("path").attr("class","time-based-"+[e.maptype,e.type].join(" ")).attr("d",i.line(t))}function o(o){t.features.forEach(function(t){var a,s,u,l=t.properties,c=t.geometry.type;l.maptype===o&&("icon"===l.maptype?(a=t.geometry.coordinates.reverse(),u=i.map.latLngToLayerPoint(a),s=e(u,l)):"label"===l.maptype?(a=t.geometry.coordinates.reverse(),u=i.map.latLngToLayerPoint(a),s=n(u,l)):"line"===l.maptype&&(a=t.geometry.coordinates,a.forEach(function(t){t.reverse()}),s=r(a,l)),s?i.markers.push({elm:s,coords:a,geometryType:c,markerType:l.maptype||"",start:l.start_year?new Date(l.start_year):null,end:l.end_year?new Date(l.end_year):null,zoomStart:l.startzoom?+l.startzoom:i.map.minZoom,zoomEnd:l.endzoom?+l.endzoom:i.map.maxZoom}):console.error("Unknown feature: ",t))})}if(t&&!this.loaded){if(this.loaded=!0,!this.map)return void(this.dirty=!0);this.dirty=!1;var i=this;if(this.markers.length)return position();this.line=f["default"].svg.line().x(function(t){return i.map.latLngToLayerPoint(t).x}).y(function(t){return i.map.latLngToLayerPoint(t).y}).interpolate("linear"),this.markers=[],o("label"),o("line"),o("icon"),this.filter()}}}]),e}(l.MapLayer);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],o=n(5)["default"],i=n(3)["default"],a=n(2)["default"],s=n(1)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(10),l=s(u),c=n(41),f=s(c),p=function(t){function e(t,n,o){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.configs.scale={value:o.scale},this.configs.ticks={value:o.ticks},this.configs.orient={value:o.orient},this.configs.offset={value:o.offset},this.axis=l["default"].svg.axis(),this.baseLayer=this.base.append("g").classed(n+" axis",!0)}return o(e,t),i(e,[{key:"updateConfigs",value:function(t){this.config("scale",t.scale),this.config("ticks",t.ticks),this.config("orient",t.orient),this.config("offset",t.offset)}},{key:"update",value:function(t,e){t&&this.config("scale",t),e?this.config("offset",e):e=this.config("offset"),this.axis.scale(this.config("scale")).ticks(this.config("ticks")).orient(this.config("orient")),this.baseLayer.attr("transform","translate("+e[0]+","+e[1]+")").call(this.axis)}},{key:"destroy",value:function(){this.base.remove(),this.base=null}}]),e}(f["default"]);e["default"]=p,t.exports=e["default"]},function(t,e,n){t.exports={"default":n(86),__esModule:!0}},function(t,e,n){t.exports={"default":n(88),__esModule:!0}},function(t,e,n){t.exports={"default":n(89),__esModule:!0}},function(t,e,n){t.exports={"default":n(90),__esModule:!0}},function(t,e,n){t.exports={"default":n(91),__esModule:!0}},function(t,e,n){t.exports={"default":n(92),__esModule:!0}},function(t,e,n){"use strict";var r=n(11)["default"];e["default"]=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.__esModule=!0},function(t,e,n){"use strict";var r=n(44)["default"],o=n(77)["default"];e["default"]=function(){function t(t,e){var n=[],o=!0,i=!1,a=void 0;try{for(var s,u=r(t);!(o=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(l){i=!0,a=l}finally{try{!o&&u["return"]&&u["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(o(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.__esModule=!0},function(t,e,n){n(38),n(37),t.exports=n(117)},function(t,e,n){n(38),n(37),t.exports=n(118)},function(t,e,n){n(120),t.exports=n(9).Object.assign},function(t,e,n){var r=n(7);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(7);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){var r=n(7);n(121),t.exports=function(t,e){return r.getDesc(t,e)}},function(t,e,n){n(122),t.exports=n(9).Object.setPrototypeOf},function(t,e,n){n(123),n(37),n(38),n(124),t.exports=n(9).Promise},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(20),o=n(12).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(16),o=n(99),i=n(98),a=n(13),s=n(114),u=n(55);t.exports=function(t,e,n,l){var c,f,p,h=u(t),d=r(n,l,e?2:1),y=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(i(h))for(c=s(t.length);c>y;y++)e?d(a(f=t[y])[0],f[1]):d(t[y]);else for(p=h.call(t);!(f=p.next()).done;)o(p,d,f.value,e)}},function(t,e,n){t.exports=n(12).document&&document.documentElement},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(14),o=n(8)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(13);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},function(t,e,n){"use strict";var r=n(7),o=n(50),i=n(36),a={};n(35)(a,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r.create(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(8)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){n=!0},i[r]=function(){return a},t(i)}catch(s){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r,o,i,a=n(12),s=n(113).set,u=a.MutationObserver||a.WebKitMutationObserver,l=a.process,c=a.Promise,f="process"==n(19)(l),p=function(){var t,e,n;for(f&&(t=l.domain)&&(l.domain=null,t.exit());r;)e=r.domain,n=r.fn,e&&e.enter(),n(),e&&e.exit(),r=r.next;o=void 0,t&&t.enter()};if(f)i=function(){l.nextTick(p)};else if(u){var h=1,d=document.createTextNode("");new u(p).observe(d,{characterData:!0}),i=function(){d.data=h=-h}}else i=c&&c.resolve?function(){c.resolve().then(p)}:function(){s.call(a,p)};t.exports=function(t){var e={fn:t,next:void 0,domain:f&&l.domain};o&&(o.next=e),r||(r=e,i()),o=e}},function(t,e,n){var r=n(7),o=n(115),i=n(47);t.exports=n(34)(function(){var t=Object.assign,e={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach(function(t){n[t]=t}),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=o})?function(t,e){for(var n=o(t),a=arguments,s=a.length,u=1,l=r.getKeys,c=r.getSymbols,f=r.isEnum;s>u;)for(var p,h=i(a[u++]),d=c?l(h).concat(c(h)):l(h),y=d.length,v=0;y>v;)f.call(h,p=d[v++])&&(n[p]=h[p]);return n}:Object.assign},function(t,e,n){var r=n(17),o=n(9),i=n(34);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(51);t.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(9),o=n(7),i=n(33),a=n(8)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.setDesc(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(12),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(13),o=n(30),i=n(8)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t}},function(t,e,n){var r=n(53),o=n(32);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),l=s.length;return 0>u||u>=l?t?"":void 0:(i=s.charCodeAt(u),55296>i||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):(i-55296<<10)+(a-56320)+65536)}}},function(t,e,n){var r,o,i,a=n(16),s=n(97),u=n(96),l=n(94),c=n(12),f=c.process,p=c.setImmediate,h=c.clearImmediate,d=c.MessageChannel,y=0,v={},m="onreadystatechange",g=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){g.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},h=function(t){delete v[t]},"process"==n(19)(f)?r=function(t){f.nextTick(a(g,t,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=x,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",x,!1)):r=m in l("script")?function(t){u.appendChild(l("script"))[m]=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:p,clear:h}},function(t,e,n){var r=n(53),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(32);t.exports=function(t){return Object(r(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(13),o=n(55);t.exports=n(9).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(31),o=n(8)("iterator"),i=n(14);t.exports=n(9).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(93),o=n(102),i=n(14),a=n(54);t.exports=n(48)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]]);
},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(17);r(r.S+r.F,"Object",{assign:n(104)})},function(t,e,n){var r=n(54);n(105)("getOwnPropertyDescriptor",function(t){return function(e,n){return t(r(e),n)}})},function(t,e,n){var r=n(17);r(r.S,"Object",{setPrototypeOf:n(52).set})},function(t,e){},function(t,e,n){"use strict";var r,o=n(7),i=n(49),a=n(12),s=n(16),u=n(31),l=n(17),c=n(20),f=n(13),p=n(30),h=n(111),d=n(95),y=n(52).set,v=n(107),m=n(8)("species"),g=n(110),x=n(103),b="Promise",_=a.process,P="process"==u(_),T=a[b],k=function(t){var e=new T(function(){});return t&&(e.constructor=Object),T.resolve(e)===e},O=function(){function t(e){var n=new T(e);return y(n,t.prototype),n}var e=!1;try{if(e=T&&T.resolve&&k(),y(t,T),t.prototype=o.create(T.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(e=!1),e&&n(33)){var r=!1;T.resolve(o.setDesc({},"then",{get:function(){r=!0}})),e=r}}catch(i){e=!1}return e}(),w=function(t,e){return i&&t===T&&e===r?!0:v(t,e)},S=function(t){var e=f(t)[m];return void 0!=e?e:t},j=function(t){var e;return c(t)&&"function"==typeof(e=t.then)?e:!1},C=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=p(e),this.reject=p(n)},E=function(t){try{t()}catch(e){return{error:e}}},M=function(t,e){if(!t.n){t.n=!0;var n=t.c;x(function(){for(var r=t.v,o=1==t.s,i=0,s=function(e){var n,i,a=o?e.ok:e.fail,s=e.resolve,u=e.reject;try{a?(o||(t.h=!0),n=a===!0?r:a(r),n===e.promise?u(TypeError("Promise-chain cycle")):(i=j(n))?i.call(n,s,u):s(n)):u(r)}catch(l){u(l)}};n.length>i;)s(n[i++]);n.length=0,t.n=!1,e&&setTimeout(function(){var e,n,o=t.p;L(o)&&(P?_.emit("unhandledRejection",r,o):(e=a.onunhandledrejection)?e({promise:o,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)),t.a=void 0},1)})}},L=function(t){var e,n=t._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(e=r[o++],e.fail||!L(e.promise))return!1;return!0},I=function(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,e.a=e.c.slice(),M(e,!0))},A=function(t){var e,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===t)throw TypeError("Promise can't be resolved itself");(e=j(t))?x(function(){var r={r:n,d:!1};try{e.call(t,s(A,r,1),s(I,r,1))}catch(o){I.call(r,o)}}):(n.v=t,n.s=1,M(n,!1))}catch(r){I.call({r:n,d:!1},r)}}};O||(T=function(t){p(t);var e=this._d={p:h(this,T,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{t(s(A,e,1),s(I,e,1))}catch(n){I.call(e,n)}},n(106)(T.prototype,{then:function(t,e){var n=new C(g(this,T)),r=n.promise,o=this._d;return n.ok="function"==typeof t?t:!0,n.fail="function"==typeof e&&e,o.c.push(n),o.a&&o.a.push(n),o.s&&M(o,!1),r},"catch":function(t){return this.then(void 0,t)}})),l(l.G+l.W+l.F*!O,{Promise:T}),n(36)(T,b),n(108)(b),r=n(9)[b],l(l.S+l.F*!O,b,{reject:function(t){var e=new C(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(!O||k(!0)),b,{resolve:function(t){if(t instanceof T&&w(t.constructor,this))return t;var e=new C(this),n=e.resolve;return n(t),e.promise}}),l(l.S+l.F*!(O&&n(101)(function(t){T.all(t)["catch"](function(){})})),b,{all:function(t){var e=S(this),n=new C(e),r=n.resolve,i=n.reject,a=[],s=E(function(){d(t,!1,a.push,a);var n=a.length,s=Array(n);n?o.each.call(a,function(t,o){var a=!1;e.resolve(t).then(function(t){a||(a=!0,s[o]=t,--n||r(s))},i)}):r(s)});return s&&i(s.error),n.promise},race:function(t){var e=S(this),n=new C(e),r=n.reject,o=E(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,u=0;o>u;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){},126,126,126,126,126,126,126,126,function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e,n){for(var r=-1,i=o(e),a=i.length;++r<a;){var s=i[r],u=t[s],l=n(u,e[s],s,t,e);(l===l?l===u:u!==u)&&(void 0!==u||s in t)||(t[s]=l)}return t}var o=n(61);t.exports=r},function(t,e,n){function r(t,e){return null==e?t:o(e,i(e),t)}var o=n(138),i=n(61);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}t.exports=n},function(t,e,n){function r(t,e,n,l){l||(l=[]);for(var c=-1,f=t.length;++c<f;){var p=t[c];u(p)&&s(p)&&(n||a(p)||i(p))?e?r(p,e,n,l):o(l,p):n||(l[l.length]=p)}return l}var o=n(135),i=n(40),a=n(24),s=n(21),u=n(23);t.exports=r},function(t,e,n){var r=n(144),o=r();t.exports=o},function(t,e,n){function r(t,e){return o(t,e,i)}var o=n(140),i=n(62);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return a(function(e,n){var r=-1,a=null==e?0:n.length,s=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,l=a>1?n[a-1]:void 0;for("function"==typeof s?(s=o(s,l,5),a-=2):(s="function"==typeof l?l:void 0,a-=s?1:0),u&&i(n[0],n[1],u)&&(s=3>a?void 0:s,a=1);++r<a;){var c=n[r];c&&t(e,c,s)}return e})}var o=n(57),i=n(146),a=n(56);t.exports=r},function(t,e,n){function r(t){return function(e,n,r){for(var i=o(e),a=r(e),s=a.length,u=t?s:-1;t?u--:++u<s;){var l=a[u];if(n(i[l],l,i)===!1)break}return e}}var o=n(59);t.exports=r},function(t,e,n){var r=n(142),o=r("length");t.exports=o},function(t,e,n){function r(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?o(n)&&i(e,n.length):"string"==r&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var o=n(21),i=n(39),a=n(15);t.exports=r},function(t,e,n){function r(t,e){t=o(t);for(var n=-1,r=e.length,i={};++n<r;){var a=e[n];a in t&&(i[a]=t[a])}return i}var o=n(59);t.exports=r},function(t,e,n){function r(t,e){var n={};return o(t,function(t,r,o){e(t,r,o)&&(n[r]=t)}),n}var o=n(141);t.exports=r},function(t,e,n){function r(t){for(var e=u(t),n=e.length,r=n&&t.length,l=!!r&&s(r)&&(i(t)||o(t)),f=-1,p=[];++f<n;){var h=e[f];(l&&a(h,r)||c.call(t,h))&&p.push(h)}return p}var o=n(40),i=n(24),a=n(39),s=n(22),u=n(62),l=Object.prototype,c=l.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return o(t)&&s.call(t)==i}var o=n(15),i="[object Function]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){function r(t){return null==t?!1:o(t)?c.test(u.call(t)):i(t)&&a.test(t)}var o=n(150),i=n(23),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){var r=n(139),o=n(57),i=n(147),a=n(148),s=n(56),u=s(function(t,e){return null==t?{}:"function"==typeof e[0]?a(t,o(e[0],e[1],3)):i(t,r(e))});t.exports=u},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r;!function(){function o(t){function e(){for(;s=c<l.length&&t>f;){var e=c++,r=l[e],o=a.call(r,1);o.push(n(e)),++f,r[0].apply(null,o)}}function n(t){return function(n,o){--f,null==h&&(null!=n?(h=n,c=p=NaN,r()):(l[t]=o,--p?s||e():r()))}}function r(){null!=h?d(h):u?d(h,l):d.apply(null,[h].concat(l))}var o,s,u,l=[],c=0,f=0,p=0,h=null,d=i;return t||(t=1/0),o={defer:function(){return h||(l.push(arguments),++p,e()),o},await:function(t){return d=t,u=!1,p||r(),o},awaitAll:function(t){return d=t,u=!0,p||r(),o}}}function i(){}var a=[].slice;o.version="1.0.7",r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}()},function(t,e){t.exports=a},function(t,e){t.exports=s},function(t,e){t.exports=u}]))});
//# sourceMappingURL=components.js.map